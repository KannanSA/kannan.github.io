@import "tailwindcss";
@import "tw-animate-css";

@custom-variant dark (&:is(.dark *));

@theme {
  /* Apple-inspired Color System */
  --color-apple-black: #1d1d1f;
  --color-apple-gray: #86868b;
  --color-apple-light-gray: #f5f5f7;
  --color-apple-white: #ffffff;
  --color-apple-blue: #0071e3;
  --color-apple-purple: #8e8e93;
  --color-apple-background: #fbfbfd;
  --color-apple-border: #d2d2d7;
  
  /* Design tokens */
  --radius-apple: 18px;
  --radius-apple-small: 12px;
  --shadow-apple: 0 4px 20px rgba(0, 0, 0, 0.08);
  --shadow-apple-hover: 0 8px 25px rgba(0, 0, 0, 0.15);
  --transition-apple: 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
}

@layer base {
  * {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
  }
  
  html {
    scroll-behavior: smooth;
    overflow-x: hidden;
  }
  
  body {
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'SF Pro Display', 'SF Pro Text', 'Helvetica Neue', Arial, sans-serif;
    background: var(--color-apple-background);
    color: var(--color-apple-black);
    line-height: 1.47059;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    min-height: 100vh;
    letter-spacing: -0.022em;
  }

  /* Hide native cursor when custom cursor active */
  .custom-cursor-active, .custom-cursor-active * {
    cursor: none !important;
  }
  .custom-cursor-active input,
  .custom-cursor-active textarea,
  .custom-cursor-active [contenteditable="true"],
  .custom-cursor-active select {
    cursor: text !important;
  }

  /* Apple Typography System */
  .sf-pro-display {
    font-family: 'SF Pro Display', -apple-system, BlinkMacSystemFont, sans-serif;
    font-weight: 600;
    letter-spacing: -0.022em;
  }
  
  .sf-pro-text {
    font-family: 'SF Pro Text', -apple-system, BlinkMacSystemFont, sans-serif;
    font-weight: 400;
    letter-spacing: -0.016em;
  }
  
  .sf-pro-headline {
    font-size: 48px;
    line-height: 1.08365;
    font-weight: 600;
    letter-spacing: -0.003em;
  }
  
  .sf-pro-title {
    font-size: 28px;
    line-height: 1.14286;
    font-weight: 600;
    letter-spacing: 0.007em;
  }
  
  .sf-pro-subheading {
    font-size: 21px;
    line-height: 1.19048;
    font-weight: 400;
    letter-spacing: 0.011em;
  }
  
  .sf-pro-body {
    font-size: 17px;
    line-height: 1.47059;
    font-weight: 400;
    letter-spacing: -0.022em;
  }
  
  .sf-pro-footnote {
    font-size: 13px;
    line-height: 1.38462;
    font-weight: 400;
    letter-spacing: -0.08em;
  }
  
  /* Apple Navigation → iOS Liquid Glass */
  .apple-nav {
    position: sticky;
    top: 0;
    background: linear-gradient(
      180deg,
      rgba(251, 251, 253, 0.75),
      rgba(251, 251, 253, 0.55)
    );
    backdrop-filter: saturate(180%) blur(22px);
    -webkit-backdrop-filter: saturate(180%) blur(22px);
    border-bottom: 1px solid rgba(210, 210, 215, 0.6);
    box-shadow: 0 8px 24px rgba(0,0,0,0.06);
    transition: all var(--transition-apple);
  }
  .apple-nav::after{
    content:"";
    position:absolute; inset-inline:0; bottom:-1px; height:1px;
    background: linear-gradient(90deg, transparent, rgba(0,113,227,.35), transparent);
    pointer-events:none;
  }
  .dark .apple-nav{
    background: linear-gradient(180deg, rgba(29,29,31,0.7), rgba(29,29,31,0.5));
    border-bottom-color: rgba(66, 66, 69, 0.6);
    box-shadow: 0 10px 30px rgba(0,0,0,0.35);
  }
  
  /* Apple Sections */
  .apple-section {
    padding: 80px 22px;
    max-width: 1024px;
    margin: 0 auto;
  }
  
  /* Apple Cards → Liquid Glass tiles */
  .apple-card {
    position: relative;
    background: color-mix(in oklab, var(--color-apple-white) 55%, transparent);
    border-radius: var(--radius-apple);
    box-shadow: 0 10px 30px rgba(0,0,0,0.08);
    transition: transform var(--transition-apple), box-shadow var(--transition-apple), background var(--transition-apple);
    border: 1px solid transparent; /* gradient border drawn by ::after */
    padding: 40px;
    backdrop-filter: blur(14px) saturate(130%);
    -webkit-backdrop-filter: blur(14px) saturate(130%);
    overflow: clip;
  }
  .apple-card::after{ /* gradient glass border */
    content:""; position:absolute; inset:0; border-radius:inherit; padding:1px;
    background: linear-gradient(180deg, rgba(255,255,255,0.7), rgba(255,255,255,0.08));
    mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
    -webkit-mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
    -webkit-mask-composite: xor; mask-composite: exclude;
    pointer-events:none;
  }
  .apple-card::before{ /* moving sheen */
    content:""; position:absolute; inset:-20%; border-radius:inherit;
    background: radial-gradient(60% 40% at 10% 0%, rgba(255,255,255,0.45), transparent 60%),
                linear-gradient(120deg, rgba(255,255,255,0.18), rgba(255,255,255,0) 40%);
    transform: translate(-12%, -12%) rotate(0.001deg);
    transition: transform .6s ease, opacity .6s ease;
    opacity: .6; pointer-events:none;
  }
  .apple-card:hover{
    transform: translateY(-6px) scale(1.01);
    box-shadow: 0 18px 45px rgba(0,0,0,0.16);
  }
  .apple-card:hover::before{
    transform: translate(0,0) rotate(0.001deg);
    opacity: .85;
  }
  .dark .apple-card{
    background: color-mix(in oklab, #121214 55%, transparent);
    box-shadow: 0 12px 36px rgba(0,0,0,0.35);
  }

  /* Optional extra frosted variant */
  .glass-card {
    background: rgba(255,255,255,0.55);
    border: 1px solid rgba(255,255,255,0.35);
    box-shadow: 0 10px 30px rgba(0,0,0,0.08);
    backdrop-filter: blur(16px) saturate(140%);
    -webkit-backdrop-filter: blur(16px) saturate(140%);
  }
  .dark .glass-card {
    background: rgba(20,20,22,0.45);
    border: 1px solid rgba(255,255,255,0.08);
  }

  /* Apple Buttons → Glassy pills */
  .apple-button-primary,
  .apple-button-secondary {
    position: relative;
    border-radius: 980px;
    min-height: 44px;
    padding: 12px 24px;
    display: inline-flex; align-items:center; justify-content:center;
    transition: transform var(--transition-apple), box-shadow var(--transition-apple), background var(--transition-apple), color var(--transition-apple), filter var(--transition-apple);
    text-decoration: none; cursor: pointer; border: 1px solid transparent;
    backdrop-filter: blur(12px) saturate(150%);
    -webkit-backdrop-filter: blur(12px) saturate(150%);
    box-shadow: 0 10px 28px rgba(0,0,0,0.10), inset 0 1px rgba(255,255,255,0.35);
    overflow: hidden;
  }
  /* Gradient glass border ring */
  .apple-button-primary::before,
  .apple-button-secondary::before{
    content:""; position:absolute; inset:0; border-radius:inherit; padding:1px;
    background: linear-gradient(180deg, rgba(255,255,255,0.65), rgba(255,255,255,0.08)),
                radial-gradient(120% 120% at 0% 0%, rgba(0,113,227,0.35), transparent 60%);
    mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
    -webkit-mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
    -webkit-mask-composite: xor; mask-composite: exclude;
    pointer-events:none;
  }
  /* Glossy top highlight */
  .apple-button-primary::after,
  .apple-button-secondary::after{
    content:""; position:absolute; inset:2px; border-radius:inherit;
    background: linear-gradient(180deg, rgba(255,255,255,0.45), rgba(255,255,255,0.06));
    mix-blend-mode: screen; opacity: .7; pointer-events:none;
    transition: opacity var(--transition-apple);
  }

  .apple-button-primary{
    background: linear-gradient(180deg,
      color-mix(in oklab, var(--color-apple-blue) 90%, #ffffff 10%),
      color-mix(in oklab, var(--color-apple-blue) 80%, #000000 20%)
    );
    color: #fff;
  }
  .apple-button-primary:hover{ transform: translateY(-2px); box-shadow: 0 18px 40px rgba(0,0,0,0.18); }

  .apple-button-secondary{
    background: linear-gradient(180deg, rgba(255,255,255,0.55), rgba(255,255,255,0.25));
    color: var(--color-apple-blue);
    border-color: rgba(0,0,0,0.06);
  }
  .dark .apple-button-secondary{
    background: linear-gradient(180deg, rgba(40,40,44,0.55), rgba(40,40,44,0.25));
    color: #8ab4ff;
    border-color: rgba(255,255,255,0.08);
  }
  .apple-button-secondary:hover{ transform: translateY(-2px); box-shadow: 0 18px 40px rgba(0,0,0,0.18); }

  /* Pressed / Active state */
  .apple-button-primary:active,
  .apple-button-secondary:active{
    transform: translateY(0);
    box-shadow: 0 8px 20px rgba(0,0,0,0.12), inset 0 -8px 20px rgba(0,0,0,0.08);
    filter: brightness(0.98);
  }

  /* Accessible focus ring */
  .apple-button-primary:focus-visible,
  .apple-button-secondary:focus-visible{
    outline: none;
    box-shadow: 0 0 0 3px rgba(0,113,227,0.35), 0 12px 32px rgba(0,0,0,0.18);
  }

  /* Apple Links */
  .apple-link {
    color: var(--color-apple-blue);
    text-decoration: none;
    transition: all var(--transition-apple);
  }
  .apple-link:hover { text-decoration: underline; }
  
  /* Apple Hero Section */
  .apple-hero { text-align: center; padding: 120px 22px 80px; }
  .apple-hero-headline { font-size: 56px; line-height: 1.07143; font-weight: 600; letter-spacing: -0.005em; color: var(--color-apple-black); margin-bottom: 12px; }
  .apple-hero-subheadline { font-size: 28px; line-height: 1.14286; font-weight: 400; letter-spacing: 0.007em; color: var(--color-apple-black); margin-bottom: 24px; }
  .apple-hero-copy { font-size: 21px; line-height: 1.381; font-weight: 400; letter-spacing: 0.011em; color: var(--color-apple-black); max-width: 734px; margin: 0 auto 40px; }
  
  /* Apple Grid Layouts */
  .apple-grid-2 { display: grid; grid-template-columns: repeat(2, 1fr); gap: 40px; }
  .apple-grid-3 { display: grid; grid-template-columns: repeat(3, 1fr); gap: 40px; }
  .apple-grid-auto { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 40px; }
  
  /* Apple Timeline */
  .apple-timeline-item { position: relative; padding-left: 40px; padding-bottom: 40px; }
  .apple-timeline-item::before { content: ''; position: absolute; left: 0; top: 6px; width: 12px; height: 12px; background: var(--color-apple-blue); border-radius: 50%; border: 2px solid var(--color-apple-white); box-shadow: 0 0 0 2px var(--color-apple-blue); }
  .apple-timeline-item::after { content: ''; position: absolute; left: 5px; top: 18px; width: 2px; height: calc(100% - 12px); background: var(--color-apple-border); }
  .apple-timeline-item:last-child::after { display: none; }

  /* Apple fade-in animation */
  .apple-fade-in { opacity: 0; transform: translateY(20px); animation: appleFadeIn 0.8s ease-out forwards; }
  @keyframes appleFadeIn { to { opacity: 1; transform: translateY(0); } }
  
  /* --- iOS Liquid Glass Background --- */
  .liquid-bg .blob { position: absolute; filter: blur(60px); opacity: 0.55; mix-blend-mode: screen; transform: translateZ(0); will-change: transform, opacity; }
  .liquid-bg .blob-1 { width: 50vw; height: 50vw; min-width: 400px; min-height: 400px; background: radial-gradient(circle at 30% 30%, #6aa8ff, transparent 60%), radial-gradient(circle at 70% 70%, #a17bff, transparent 60%); top: -10%; left: -10%; animation: floatA 18s ease-in-out infinite alternate; }
  .liquid-bg .blob-2 { width: 45vw; height: 45vw; min-width: 360px; min-height: 360px; background: radial-gradient(circle at 60% 40%, #00d1ff, transparent 55%), radial-gradient(circle at 40% 60%, #7effa1, transparent 55%); bottom: -10%; right: -5%; animation: floatB 22s ease-in-out infinite alternate; }
  .liquid-bg .blob-3 { width: 40vw; height: 40vw; min-width: 320px; min-height: 320px; background: radial-gradient(circle at 50% 50%, #ff7edb, transparent 55%), radial-gradient(circle at 30% 70%, #ffd36a, transparent 55%); top: 30%; right: 30%; animation: floatC 26s ease-in-out infinite alternate; }
  .liquid-bg .blob-4 { width: 35vw; height: 35vw; min-width: 280px; min-height: 280px; background: radial-gradient(circle at 20% 80%, #6ad5ff, transparent 55%), radial-gradient(circle at 80% 20%, #9b7bff, transparent 55%); top: 60%; left: 10%; animation: floatD 28s ease-in-out infinite alternate; }
  .liquid-bg .liquid-noise{ position:absolute; inset:0; pointer-events:none; background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="160" height="160" viewBox="0 0 160 160"><filter id="n"><feTurbulence type="fractalNoise" baseFrequency="0.8" numOctaves="2" stitchTiles="stitch"/></filter><rect width="100%" height="100%" filter="url(%23n)" opacity="0.035"/></svg>'); background-size: 300px 300px; mix-blend-mode: soft-light; }
  @keyframes floatA { 0% { transform: translate(-4%, -2%) scale(1); } 100% { transform: translate(6%, 8%) scale(1.08); } }
  @keyframes floatB { 0% { transform: translate(3%, 4%) scale(1.05); } 100% { transform: translate(-6%, -6%) scale(0.98); } }
  @keyframes floatC { 0% { transform: translate(0%, 0%) scale(1); } 100% { transform: translate(4%, -6%) scale(1.06); } }
  @keyframes floatD { 0% { transform: translate(-3%, 3%) scale(0.98); } 100% { transform: translate(5%, -4%) scale(1.04); } }

  /* Responsive Design - Apple Style */
  @media (max-width: 1068px) {
    .apple-section { padding: 60px 22px; }
    .apple-hero { padding: 100px 22px 60px; }
    .apple-hero-headline { font-size: 48px; line-height: 1.08365; }
    .apple-hero-subheadline { font-size: 24px; line-height: 1.16667; }
    .apple-hero-copy { font-size: 19px; line-height: 1.42106; }
    .apple-grid-2, .apple-grid-3 { grid-template-columns: 1fr; gap: 30px; }
  }
  
  @media (max-width: 734px) {
    .apple-section { padding: 40px 16px; }
    .apple-hero { padding: 80px 16px 40px; }
    .apple-hero-headline { font-size: 40px; line-height: 1.1; }
    .apple-hero-subheadline { font-size: 21px; line-height: 1.19048; }
    .apple-hero-copy { font-size: 17px; line-height: 1.47059; }
    .apple-card { padding: 30px 20px; }
  }
  
  @media (max-width: 480px) {
    .apple-hero-headline { font-size: 32px; line-height: 1.125; }
    .sf-pro-headline { font-size: 32px; line-height: 1.125; }
    .sf-pro-title { font-size: 24px; line-height: 1.16667; }
  }
  
  /* Dark mode support */
  .dark {
    --color-apple-background: #000000;
    --color-apple-black: #f5f5f7;
    --color-apple-gray: #a1a1a6;
    --color-apple-light-gray: #1d1d1f;
    --color-apple-white: #1d1d1f;
    --color-apple-border: #424245;
  }
  .dark .apple-card { background: #1d1d1f; border-color: #424245; }
  .dark .apple-card::after { background: linear-gradient(180deg, rgba(255,255,255,0.18), rgba(255,255,255,0.04)); }

  /* Apple-style selection */
  ::selection { background: rgba(0, 113, 227, 0.2); }
  
  /* Apple-style scrollbar */
  ::-webkit-scrollbar { width: 8px; }
  ::-webkit-scrollbar-track { background: transparent; }
  ::-webkit-scrollbar-thumb { background: var(--color-apple-gray); border-radius: 4px; }
  ::-webkit-scrollbar-thumb:hover { background: var(--color-apple-blue); }
}